{"version":3,"sources":["webpack:///webpack/bootstrap cbedc6f4bd82958b46c6","webpack:///./src/shortcuts.ts","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cbedc6f4bd82958b46c6","/**\n * Provides keyboard shortcuts API\n */\n\nlet mods: string[] = [];\nlet keyMap: KeyMap = {} as KeyMap;\n\nexport const ESC = \"Escape\";\nexport const CTRL_LEFT = \"ControlLeft\";\nexport const SHIFT_LEFT = \"ShiftLeft\";\nexport const ALT_LEFT = \"AltLeft\";\nexport const SPACE = \"Space\";\n\nexport function setShortcut(\n    modKeys: string[], triggerKey: string, handler: EventListener) {\n  let keyPrefix = generateKeymapKey(modKeys);\n  setKeyMap(keyPrefix, triggerKey, handler);\n}\n\nexport function removeShortcut(modKeys: string[], triggerKey: string) {\n  let keyPrefix = generateKeymapKey(modKeys);\n  rmKeyMap(keyPrefix, triggerKey);\n}\n\nexport function start(w: Window) {\n  w.addEventListener(\"keydown\", onGlobalKeyDown);\n  w.addEventListener(\"keyup\", onGlobalKeyUp);\n}\n\nexport function stop(w: Window) {\n  w.removeEventListener(\"keydown\", onGlobalKeyDown);\n  w.removeEventListener(\"keyup\", onGlobalKeyUp);\n}\n\ninterface KeyMap {\n  [k: string]: DirectKeyMap\n}\n\ninterface DirectKeyMap {\n  [k: string]: EventListener\n}\n\nfunction generateKeymapKey(modKeys: string[]): string {\n  modKeys = modKeys.sort();\n  let key: string[] = [];\n  for (let v of modKeys) {\n    key.push(v);\n  }\n  return key.join();\n}\n\nfunction queryKeyMap(fullKeyPrefix: string, key: string): EventListener {\n  if (keyMap[fullKeyPrefix]) {\n    if (keyMap[fullKeyPrefix][key]) {\n      return keyMap[fullKeyPrefix][key];\n    }\n  }\n  return null;\n}\n\nfunction setKeyMap(fullKeyPrefix: string, key: string, handler: EventListener) {\n  let kmap: DirectKeyMap = keyMap[fullKeyPrefix];\n  if (!kmap) {\n    kmap = {} as DirectKeyMap;\n    keyMap[fullKeyPrefix] = kmap;\n  }\n  kmap[key] = handler;\n}\n\nfunction rmKeyMap(fullKeyPrefix: string, key: string) {\n  let kmap: DirectKeyMap = keyMap[fullKeyPrefix];\n  if (kmap) {\n    if (kmap[key]) {\n      delete kmap[key];\n    }\n  }\n}\n\nfunction onModKeyStart(modKey: string){\n  mods.push(modKey);\n}\n\nfunction onModKeyEnd(modKey: string) : boolean{\n  let idx: number = mods.indexOf(modKey);\n  if (idx > -1){\n    mods.splice(idx, 1);\n    return true;\n  }\n  return false;\n}\n\nfunction getEventKey(e: KeyboardEvent): string {\n  return e.code;\n}\n\nfunction onGlobalKeyDown(e: KeyboardEvent): void{\n  let mod = getEventKey(e);\n  onModKeyStart(mod);\n}\n\nfunction onGlobalKeyUp(e: KeyboardEvent): void{\n  let mod = getEventKey(e);\n  let found = onModKeyEnd(mod);\n  if (!found){\n    return;\n  }\n  let modsPrefix = generateKeymapKey(mods);\n  let handler = queryKeyMap(modsPrefix, mod);\n  if (handler){\n    try {\n      handler(e);\n    } catch (e){\n      if (e && e.message){\n        err(e.message);\n      } else {\n        err(e);\n      }\n    }\n  }\n  reset();\n}\n\nfunction reset(){\n  mods.length = 0;\n}\n\nfunction log(msg : string){\n  if (console && console.log){\n    console.log(msg);\n  }\n}\n\nfunction err(msg: string){\n  if (console && console.error){\n    console.error(msg);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/shortcuts.ts","import * as shortcuts from \"./shortcuts\"\n\nexport = shortcuts;\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts"],"sourceRoot":""}